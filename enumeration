#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <zlib.h>
#include <unistd.h>

#define MAX_FILENAME_LENGTH 256

char* filepath = NULL;
char* password = NULL;

void enumerateFilesInZip(const char* zipPath) {
    FILE* zipFile = fopen(zipPath, "rb");
    if (zipFile == NULL) {
        printf("Erreur lors de l'ouverture du fichier ZIP.\n");
        return;
    }

    zip_fileinfo zipInfo;
    zipOpen(zipFile, &zipInfo);

    zip_fileinfo fileinfo;
    char filename[MAX_FILENAME_LENGTH];

    while (zipRead(zipFile, &fileinfo) == 0) {
        zipGetFilename(zipFile, filename, MAX_FILENAME_LENGTH);
        printf("%s\n", filename);
    }

    zipClose(zipFile);
    fclose(zipFile);
}

    if (filepath != NULL && strcmp(filepath, "") != 0) {
        enumerateFilesInZip(filepath);
    }

    return 0;
