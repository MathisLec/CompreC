#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <zlib.h>
#include <unistd.h>
#include <ziputils.h>


void includeFileInZip(const char* filepath, const char* filePathToAdd) {
    // Convertir le chemin du fichier zip en structure de données zip
struct zip* filePathToZip(const char* filepath){
    struct zip* zip = zip_open(filepath, ZIP_RDONLY, NULL);
    if (zip == NULL) {
        printf("Error while opening the zip file.\n");
        exit(EXIT_FAILURE);
    }
    return zip;
}


    // Ajouter le fichier au fichier zip
    if (zip_file_add(zip, filePathToAdd) != ZIP_SUCCESS) {
        // Gérer l'erreur lors de l'ajout du fichier
        printf("Error while adding file to ZIP file.\n");
        zip_close(zip); // Fermer le fichier zip
        return;
    }

    // Fermer le fichier zip
    zip_close(zip);

    printf("File was successfully added to ZIP file.\n");
}
